<div class="form-group" [formGroup]="form" *ngIf="!input.hidden">
    <label [attr.for]="input.key">{{input.header}}</label>

    <div [ngSwitch]="input.controlType">
        <input *ngSwitchCase="'textbox'" class="form-control" [formControlName]="input.key" [id]="input.key" [type]="input.type">

        <div *ngSwitchCase="'dropdown'">
            <ng-select *ngIf="input.linkedObject" [items]="input['allValues']" [multiple]="true" [closeOnSelect]="false" [searchable]="false"
                [bindLabel]="input.linkedData['value']" placeholder="Select ..." [formControlName]="input.key">
            </ng-select>

            <select *ngIf="!input.linkedObject" [id]="input.key" [formControlName]="input.key" class="form-control">
                <option *ngFor="let opt of input['options']" [value]="opt.key">{{opt.value}}</option>
            </select>
        </div>
        <p-calendar *ngSwitchCase="'calendar'" [formControlName]="input.key" dateFormat="yy-mm-dd" [showIcon]="true"></p-calendar>

        <div *ngSwitchCase="'radio'">
            <div *ngFor="let opt of input['options']" class="form-check form-check-inline">
                <input [id]="input.key" value="{{opt.key}}" [formControlName]="input.key" class="form-check-input"
                    [type]="'radio'" [checked]="input.value == opt.key">
                <span class="form-check-label">{{opt.value}}</span>
            </div>
        </div>
    </div>

    <small class="text-danger" *ngIf="!isValid">{{input.header}} is required</small>
</div>